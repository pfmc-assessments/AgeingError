<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot output — PlotOutputFn • AgeingError</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot output — PlotOutputFn"><meta name="description" content="Plots age comparisons and results from the fitted model. Comparisons must be
conditioned on a true age that is not observed. And, in place of a true age,
the diagnostic plots generally condition on an estimated age, which is fixed
as the mode of the conditional probability at age for each otolith."><meta property="og:description" content="Plots age comparisons and results from the fitted model. Comparisons must be
conditioned on a true age that is not observed. And, in place of a true age,
the diagnostic plots generally condition on an estimated age, which is fixed
as the mode of the conditional probability at age for each otolith."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">AgeingError</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting_started.html">Estimating ageing error using the TMB model written by André Punt</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pfmc-assessments/AgeingError/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plot output</h1>
      <small class="dont-index">Source: <a href="https://github.com/pfmc-assessments/AgeingError/blob/main/R/PlotOutputFn.R" class="external-link"><code>R/PlotOutputFn.R</code></a></small>
      <div class="d-none name"><code>PlotOutputFn.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plots age comparisons and results from the fitted model. Comparisons must be
conditioned on a true age that is not observed. And, in place of a true age,
the diagnostic plots generally condition on an estimated age, which is fixed
as the mode of the conditional probability at age for each otolith.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">PlotOutputFn</span><span class="op">(</span></span>
<span>  <span class="va">Data</span>,</span>
<span>  <span class="va">MaxAge</span>,</span>
<span>  <span class="va">SaveFile</span>,</span>
<span>  PlotType <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PNG"</span>, <span class="st">"PDF"</span><span class="op">)</span>,</span>
<span>  subplot <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>  ReaderNames <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">Data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>This is the data set with the first column being an integer
providing the number of otoliths that are included in the row and the
subsequent columns are the reader or lab estimated ag,e where each
reader/lab has a unique reading error and bias. The modeling framework
allows for, at most, 15 readers, i.e., 16 columns. There should not be any
identical rows in the data frame because otoliths that have the exact same
read from every reader/lab should be combined into a single row with the
count as the first column. If you failed to combine identical rows prior
to running the model, you will be alerted with an error and the <code>XXX.rep</code>
file will have a properly formatted data which can be' cut-pasted into a
<code>XXX.dat</code> file for use. Missing reads from a given reader/lab should be
entered as <code>-999</code>. Order your reader/lab columns such that similar
readers/labs are located next to one another because columns to the right
can mirror columns to their immediate left in terms of parameter
estimates.</p></dd>


<dt id="arg-maxage">MaxAge<a class="anchor" aria-label="anchor" href="#arg-maxage"></a></dt>
<dd><p>An integer, specifying the maximum possible "true" age.</p></dd>


<dt id="arg-savefile">SaveFile<a class="anchor" aria-label="anchor" href="#arg-savefile"></a></dt>
<dd><p>Directory where <code>agemat.exe</code> is located and where all ADMB
intermediate and output files should be located. If <code>AdmbFile</code> is specified
then <code>agemat.exe</code> is copied from that directory to <code>SaveFile</code>.</p></dd>


<dt id="arg-plottype">PlotType<a class="anchor" aria-label="anchor" href="#arg-plottype"></a></dt>
<dd><p>A string specifying the type of saved plots that you desire.
The default is to save <code>.png</code> files via an argument of <code>"PNG"</code>. The other
option is to save <code>.pdf</code> files via <code>"PDF"</code>.</p></dd>


<dt id="arg-subplot">subplot<a class="anchor" aria-label="anchor" href="#arg-subplot"></a></dt>
<dd><p>Vector of integers specifying which plots to create. The
default is to create three plots.</p></dd>


<dt id="arg-readernames">ReaderNames<a class="anchor" aria-label="anchor" href="#arg-readernames"></a></dt>
<dd><p>Vector with names of each reader, defaults to
"Reader 1", "Reader 2", etc.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to <code><a href="ageing_comparison.html">ageing_comparison()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns AIC, AICc, and BIC for fitted model.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<ol><li><p>Error and bias by reader/lab: A panel graph is provided where each panel
shows the expected and standard deviation in age reads for that
reader/lab. This is displayed against a scatter plot of the read and
estimated ages for each otolith that was read by that reader/lab.</p></li>
<li><p>Proportion-at-age histogram: The estimated proportion at age can be
plotted as a histogram and is displayed against the observed distribution
of read ages. This is useful to determine if hte estimated proportion at
age is generally plausible, e.g., whether it has too many ages where the
estimated proportion at age approaches zero, which is unlikely in a
composite sample with moderate effective sample sizes. This plot can also
be used as a diagnostic to confirm that AIC has selected reasonable
values for the <code>MinusAge</code> and <code>PlusAge</code> parameters.</p></li>
</ol><p>The function will read in <code>XXX.rep</code> and <code>XXX.par</code> files that are located in
<code>SaveFile</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Punt, A.E., Smith, D.C., KrusicGolub, K., and Robertson, S. 2008.
Quantifying age-reading error for use in fisheries stock assessments,
with application to species in Australias southern and eastern scalefish
and shark fishery. Can. J. Fish. Aquat. Sci. 65: 1991-2005.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="RunFn.html">RunFn()</a></code></p></li>
<li><p><code><a href="StepwiseFn.html">StepwiseFn()</a></code></p></li>
</ul></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>James T. Thorson, Ian G. Taylor</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andre E. Punt, Kelli F. Johnson, Ian G. Taylor, Paul Burch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

